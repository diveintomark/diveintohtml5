<!DOCTYPE html>
<meta charset=utf-8>
<title>What Does It All Mean? - Dive Into HTML5</title>
<!--[if IE]><script src=j/html5.js></script><![endif]-->
<link rel=stylesheet href=screen.css>
<style>
body{counter-reset:h1 3}
dl.col dt{float:left;clear:left}
dl.col dd{margin-left:7em}
dl.col dt,dl.col dd{padding-bottom:1.75em}
</style>
<div id=zz>
<p>You are here: <a href=index.html>Home</a> <span class=u>&#8227;</span> <a href=table-of-contents.html#semantics>Dive Into <abbr>HTML5</abbr></a> <span class=u>&#8227;</span>
<h1>What Does It All Mean?</h1>
<p id=toc>&nbsp;
<p class=a>&#x2042;
<h2 id=divingin>Diving In</h2>

<p class=f><img src=i/aoc-t.png alt=T width=107 height=105>his chapter will take an <abbr>HTML</abbr> page that has absolutely nothing wrong with it, and improve it. Parts of it will become shorter. Parts will become longer. All of it will become more semantic. It&#8217;ll be awesome.

<p style="clear:both"><a href=examples/blog-original.html>Here is the page in question</a>. Learn it. Live it. Love it. Open it in a new tab and don&#8217;t come back until you&#8217;ve hit &#8220;View Source&#8221; at least once.

<h2 id=the-doctype>The Doctype</h2>

<p>From the top:

<pre><code>&lt;!DOCTYPE html
          PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"></code></pre>

<p>This is called the &#8220;doctype.&#8221; There&#8217;s a long history &mdash; and a black art &mdash; behind the doctype. During the development of Internet Explorer 5 for Mac, Microsoft found themselves with a surprising problem. The upcoming version of their browser had improved its standards support so much, older pages no longer rendered properly. Well, they rendered properly (according to specification), but people expected them to render <em>improperly</em>. The pages themselves had been authored based on the quirks of dominant browsers of the day, mostly Netscape 4 and Internet Explorer 4. IE5/Mac was so advanced, it actually broke the web.

<p>Microsoft came up with a novel solution. Before rendering a page, IE5/Mac looked at the &#8220;doctype,&#8221; which is typically the first line of the <abbr>HTML</abbr> source (even before the <code>&lt;html></code> element). Older pages (that relied on the rendering quirks of older browsers) generally didn&#8217;t have a doctype at all. IE5/Mac rendered these pages like older browsers did. In order to &#8220;activate&#8221; the new standards support, authors would have to opt-in, by supplying the right doctype before their <code>&lt;html></code> element.

<p>This idea spread like wildfire, and soon all major browsers had two modes: &#8220;quirks mode&#8221; and &#8220;standards mode.&#8221; Of course, this being the web, things quickly got out of hand. When Mozilla tried to ship version 1.1 of their browser, they discovered that there were pages being rendered in &#8220;standards mode&#8221; which were actually relying on one specific quirk. Mozilla had just fixed its rendering engine to eliminate this quirk, and thousands of pages broke all at once. Thus was created &mdash; and I am not making this up &mdash; &#8220;<a href=https://developer.mozilla.org/en/Gecko's_%22Almost_Standards%22_Mode>almost standards mode</a>.&#8221;

<p>In his seminal work, <a href=http://hsivonen.iki.fi/doctype/>Activating Browser Modes with Doctype</a>, Henri Sivonen summarizes the different modes:

<blockquote>
<dl>
<dt>Quirks Mode
<dd>In the Quirks mode, browsers violate contemporary Web format specifications in order to avoid &#8220;breaking&#8221; pages authored according to practices that were prevalent in the late 1990s.
<dt>Standards Mode
<dd>In the Standards mode, browsers try to give conforming documents the specification-wise correct treatment to the extent implemented in a particular browser. <abbr>HTML5</abbr> calls this mode the &#8220;no quirks mode.&#8221;
<dt>Almost Standards Mode
<dd>Firefox, Safari, Chrome, Opera (since 7.5) and IE8 also have a mode known as &#8220;Almost Standards mode,&#8221; which implements the vertical sizing of table cells traditionally and not rigorously according to the CSS2 specification. <abbr>HTML5</abbr> calls this mode the &#8220;limited quirks mode.&#8221;
</dl>
</blockquote>

<p>(You should read the rest of Henri&#8217;s article, because I&#8217;m simplifying immensely here. Even in IE5/Mac, there were a few older doctypes that didn&#8217;t count as far as opting into standards support. Over time, the list of quirks grew, and so did the list of doctypes that triggered &#8220;quirks mode.&#8221; The last time I tried to count, there were 15 doctypes that triggered &#8220;standards mode,&#8221; 5 that triggered &#8220;almost standards mode,&#8221; and 73 that triggered &#8220;quirks mode.&#8221; But I probably missed some, and I&#8217;m not even going to talk about the crazy shit that Internet Explorer 8 does to switch between its four &mdash; four! &mdash; different rendering modes. <a href=http://hsivonen.iki.fi/doctype/ie8-mode.png>Here&#8217;s a flowchart</a>. Kill it. Kill it with fire.)

<p>Now then. Where were we? Ah yes, the doctype:

<pre><code>&lt;!DOCTYPE html
          PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"></code></pre>

<p>That happens to be one of the 15 doctypes that trigger &#8220;standards mode&#8221; in all modern browsers. There&#8217;s nothing wrong with it. If you like it, you can keep it. Or you can change it to the <abbr>HTML5</abbr> doctype, which is shorter and sweeter and also triggers &#8220;standards mode&#8221; in all modern browsers.

<p>This is the <abbr>HTML5</abbr> doctype:

<pre><code>&lt;!DOCTYPE html></code></pre>

<p>That&#8217;s it. Just 15 characters. It&#8217;s so easy, you can type it by hand and not screw it up. It&#8217;s even case-insensitive, so if you prefer, you can type it like this:

<pre><code>&lt;!DOCTYPE HTML></code></pre>

<p>Or this:

<pre><code>&lt;!doctype html></code></pre>

<p>Or even this:

<pre><code>&lt;!DoCtYpE hTmL></code></pre>

<p>They all trigger &#8220;standards mode&#8221; in all browsers.

<h2 id=html-element>The Root Element</h2>

<p class=ss style="float:left;margin:0 1.75em 1.75em 0;width:280px"><img src=i/openclipart.org_johnny_automatic_tree_on_top_of_hill.png alt="tree on top of hill" width=280 height=394>

<p>An <abbr>HTML</abbr> page is a series of nested elements. The entire structure of the page is like a tree. Some elements are &#8220;siblings,&#8221; like two branches that extend from the same tree trunk. Some elements can be &#8220;children&#8221; of other elements, like a smaller branch that extends from a larger branch. (It works the other way too; an element that contains other elements is called the &#8220;parent&#8221; node of its immediate child elements, and the &#8220;ancestor&#8221; of its grandchildren.) Elements that have no children are called &#8220;leaf&#8221; nodes. The outer-most element, which is the ancestor of all other elements on the page, is called the &#8220;root element.&#8221; The root element of an <abbr>HTML</abbr> page is always <code>&lt;html></code>.

<p>In <a href=examples/blog-original.html>this example page</a>, the root element looks like this:

<table role=presentation><tr><td><pre><code>&lt;html xmlns="http://www.w3.org/1999/xhtml"
      lang="en"
      xml:lang="en"></code></pre></td></table>

<p>There&#8217;s nothing wrong with this. If you like it, you can keep it. But parts of it are no longer necessary in <abbr>HTML5</abbr>, so you can save a few bytes by removing them.

<p>The first thing to discuss is the <code>xmlns</code> attribute. This is a vestige of <a href=http://www.w3.org/TR/xhtml1/><abbr>XHTML</abbr> 1.0</a>. It says that elements in this page are in the <abbr>XHTML</abbr> namespace, <code>http://www.w3.org/1999/xhtml</code>. But elements in <abbr>HTML5</abbr> <a href=http://www.whatwg.org/specs/web-apps/current-work/multipage/infrastructure.html#xml>are always in this namespace</a>, so you no longer need to declare it explicitly. Your <abbr>HTML5</abbr> page will work exactly the same in all browsers, whether this attribute is present or not.

<p>Dropping the <code>xmlns</code> attribute leaves us with this root element:

<pre><code>&lt;html lang="en" xml:lang="en"></code></pre>

<p>This brings me to my second point. The two attributes here, <code>lang</code> and <code>xml:lang</code>, are defining the language of this <abbr>HTML</abbr> page. (<code>en</code> stands for &#8220;English.&#8221; Not writing in English? <a href=http://www.rfc-editor.org/rfc/bcp/bcp47.txt>Find your language code here</a>.) Why two attributes for the same thing? Again, this is a vestige of <abbr>XHTML</abbr>. Only the <code>lang</code> attribute has any effect in <abbr>HTML5</abbr>. You can keep the <code>xml:lang</code> attribute if you like, but if you do, you need to ensure that it <a href="http://www.whatwg.org/specs/web-apps/current-work/multipage/elements.html#the-lang-and-xml:lang-attributes">contains the same value as the <code>lang</code> attribute</a>.

<blockquote cite="http://www.whatwg.org/specs/web-apps/current-work/multipage/elements.html#the-lang-and-xml:lang-attributes">
<p>To ease migration to and from XHTML, authors may specify an attribute in no namespace with no prefix and with the literal localname "xml:lang" on <code>&lt;html></code> elements in HTML documents, but such attributes must only be specified if a <code>lang</code> attribute in no namespace is also specified, and both attributes must have the same value when compared in an ASCII case-insensitive manner. The attribute in no namespace with no prefix and with the literal localname "xml:lang" has no effect on language processing.</p>
</blockquote>

<p>Are you ready to drop it? It&#8217;s OK, just let it go. Going, going&hellip; gone! That leaves us with this root element:

<pre><code>&lt;html lang="en"></code></pre>

<p>And that&#8217;s all I have to say about that.

<h2 id=head-element>The &lt;head> Element</h2>

<p class=c><img src=i/openclipart.org_johnny_automatic_8_from_behind.png alt="8 men from behind" width=554 height=164>

<p>The first child of the root element is usually the <code>&lt;head></code> element. The <code>&lt;head></code> element contains metadata&nbsp;&mdash; information <em>about</em> the page, rather than the body of the page itself. (The body of the page is, unsurprisingly, contained in the <code>&lt;body></code> element.) The <code>&lt;head></code> element itself is rather boring, and it hasn&#8217;t changed in any interesting way in <abbr>HTML5</abbr>. The good stuff is what&#8217;s <em>inside</em> the <code>&lt;head></code> element. And for that, we turn once again to <a href=examples/blog-original.html>our example page</a>:

<pre><code>&lt;head>
  &lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  &lt;title>Lorem ipsum blog&lt;/title>
  &lt;link rel="stylesheet" type="text/css" href="style-original.css" />
  &lt;link rel="alternate" type="application/atom+xml"
                        title="Lorem ipsum feed"
                        href="/feed/" />
  &lt;link rel="search" type="application/opensearchdescription+xml"
                        title="Lorem ipsum search"
                        href="opensearch.xml"  />
  &lt;link rel="shortcut icon" href="/favicon.ico" />
&lt;/head></code></pre>

<p>First up: the <code>&lt;meta></code> element.

<h2 id=encoding>Character Encoding</h2>

<p>When you think of &#8220;text,&#8221; you probably think of &#8220;characters and symbols I see on my computer screen.&#8221; But computers don&#8217;t deal in characters and symbols; they deal in bits and bytes.  Every piece of text you&#8217;ve ever seen on a computer screen is actually stored in a particular <em>character encoding</em>.  There are many different character encodings, some optimized for particular languages like Russian or Chinese or English, and others that can be used for multiple languages.  Very roughly speaking, the character encoding provides a mapping between the stuff you see on your screen and the stuff your computer actually stores in memory and on disk.</p>

<p>In reality, it&#8217;s more complicated than that.  Many characters are common to multiple encodings, but each encoding may use a different sequence of bytes to actually store those characters in memory or on disk.  So you can think of the character encoding as a kind of decryption key for the text.  Whenever someone gives you a sequence of bytes and claims it&#8217;s &#8220;text,&#8221; you need to know what character encoding they used so you can decode the bytes into characters and display them (or process them, or whatever).</p>

<p>So, how does your browser actually determine the character encoding of the stream of bytes that a web server sends? I&#8217;m glad you asked. If you&#8217;re familiar with <acronym>HTTP</acronym> headers, you may have seen a header like this:</p>

<blockquote><p><code>Content-Type: text/html; charset="utf-8"</code></p></blockquote>

<p>Briefly, this says that the web server thinks it&#8217;s sending you an HTML document, and that it thinks the document uses the <code>UTF-8</code> character encoding.  Unfortunately, in the whole magnificent soup of the world wide web, very few authors actually have control over their HTTP server.  Think <a href="http://www.blogger.com/">Blogger</a>: the content is provided by individuals, but the servers are run by Google.  So HTML 4 provided a way to specify the character encoding in the HTML document itself.  You&#8217;ve probably seen this too:</p>

<blockquote><p><code>&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8"></code></p></blockquote>

<p>Briefly, this says that the web author thinks they have authored an HTML document using the <code>UTF-8</code> character encoding.

<p>Both of these techniques still work in <abbr>HTML5</abbr>. The <abbr>HTTP</abbr> header is the preferred method, and it overrides the <code>&lt;meta></code> tag if present. But not everyone can set <abbr>HTTP</abbr> headers, so the <code>&lt;meta></code> tag is still around. IN fact, it got a little easier in <abbr>HTML5</abbr>. Now it looks like this:</p>

<blockquote><p><code>&lt;meta charset="utf-8"></code></p></blockquote>

<p>This works in all browsers. How did this shortened syntax come about? Here is <a href="http://lists.w3.org/Archives/Public/public-html/2007Jul/0550.html">the best explanation I could find</a>:</p>

<blockquote cite="http://lists.w3.org/Archives/Public/public-html/2007Jul/0550.html">
<p>The rationale for the <code>&lt;meta charset=""></code> attribute combination is that UAs already implement it, because people tend to leave things unquoted, like:</p>
<p><code>&lt;META HTTP-EQUIV=Content-Type CONTENT=text/html; charset=ISO-8859-1></code></p>
</blockquote>

<p>(There are even a few <a href="http://simon.html5.org/test/html/parsing/encoding/"><code>&lt;meta charset></code> test cases</a> if you don&#8217;t believe that browsers already do this.)</p>

<div class=pf>
<h4>Ask Professor Markup</h4>
<div class=inner>
<blockquote class=note>
<p><span>&#x261E;</span>Q: I never use funny characters. Do I still need to declare my character encoding?<br>
<p>A: Yes! You should <em>always</em> specify a character encoding on every <abbr>HTML</abbr> page you serve. Not specifying an encoding <a href="http://code.google.com/p/doctype/wiki/ArticleUtf7">can lead to security vulnerabilities</a>.
</blockquote>
</div>
</div>

<p>To sum up: character encoding is complicated, and it has not been made any easier by several decades of poorly written software used by copy-and-paste&ndash;educated authors.  You should <strong>always</strong> specify a character encoding on <strong>every</strong> HTML document, or <a href="http://code.google.com/p/doctype/wiki/ArticleUtf7">bad things will happen</a>.  You can do it with the HTTP <code>Content-Type</code> header, the <code>&lt;meta http-equiv></code> declaration, or the shorter <code>&lt;meta charset></code> declaration, but please do it. The web thanks you.</p>

<h2 id=link>Friends &amp; (Link) Relations</h2>

<p>Regular links (<code>&lt;a href></code>) simply point to another page. Link relations are a way to explain <em>why</em> you&#8217;re pointing to another page. They finish the sentence &#8220;I&#8217;m pointing to this other page because...&#8221;

<ul>
<li>...it&#8217;s a stylesheet containing CSS rules that your browser should apply to this document
<li>...it&#8217;s a feed that contains the same content as this page, but in a standard subscribable format
<li>...it&#8217;s a translation of this page into another language
<li>...it&#8217;s the same content as this page, but in <abbr>PDF</abbr> format
<li>...it&#8217;s the next chapter of an online book that this page is also a part of
</ul>

<p>And so on. <abbr>HTML5</abbr> breaks link relations <a href=http://www.whatwg.org/specs/web-apps/current-work/multipage/semantics.html#attr-link-rel>into two categories</a>:

<blockquote cite=http://www.whatwg.org/specs/web-apps/current-work/multipage/semantics.html#attr-link-rel>
<p>Two categories of links can be created using the link element. <b>Links to external resources</b> are links to resources that are to be used to augment the current document, and <b>hyperlink links</b> are links to other documents. ...
<p>The exact behavior for links to external resources depends on the exact relationship, as defined for the relevant link type.
</blockquote>

<p>Of the examples I just gave, only the first (<code>rel=stylesheet</code>) is a link to an external resource. The rest are hyperlinks to other documents. You may wish to follow those links, or you may not, but they&#8217;re not required in order to view the current page.

<p>Most often, link relations are seen on <code>&lt;link></code> elements within the <code>&lt;head></code> of a page. Some link relations can also be used on <code>&lt;a></code> elements, but this is uncommon even when allowed. <abbr>HTML5</abbr> also allows some relations on <code>&lt;area></code> elements, but this is even <em>less</em> common. (HTML 4 did not allow a <code>rel</code> attribute on <code>&lt;area></code> elements.) See <a href=http://www.whatwg.org/specs/web-apps/current-work/multipage/history.html#linkTypes>the full chart of link relations</a> to check where you can use specific <code>rel</code> values.

<div class=pf>
<h4>Ask Professor Markup</h4>
<div class=inner>
<blockquote class=note>
<p><span>&#x261E;</span>Q: Can I make up my own link relations?<br>
<p>A: There seems to be an infinite supply of ideas for new link relations. In an attempt to prevent people from <a href=http://developer.apple.com/safari/library/documentation/AppleApplications/Reference/SafariWebContent/ConfiguringWebApplications/chapter_8_section_2.html>just making shit up</a>, the WHATWG <a href=http://wiki.whatwg.org/wiki/RelExtensions>maintains a registry of proposed <code>rel</code> values</a> and <a href=http://www.whatwg.org/specs/web-apps/current-work/multipage/history.html#other-link-types>defines the process for getting them accepted</a>.
</blockquote>
</div>
</div>

<h3 id=rel-stylesheet>rel = stylesheet</h3>

<p>Let&#8217;s look at the first link relation in <a href=examples/blog-original.html>our example page</a>:

<pre><code>&lt;link rel="stylesheet" href="style-original.css" type="text/css" /></code></pre>

<p>This is the most frequently used link relation in the world (literally). <code>&lt;link rel=stylesheet></code> is for pointing to <abbr>CSS</abbr> rules that are stored in a separate file. One small optimization you can make in <abbr>HTML5</abbr> is to drop the <code>type</code> attribute. There&#8217;s only one stylesheet language for the web, <abbr>CSS</abbr>, so that&#8217;s the default value for the <code>type</code> attribute. This works in all browsers. (I suppose someone could invent a new stylesheet language someday, but if that happens, just add the <code>type</code> attribute back.)

<pre><code>&lt;link rel="stylesheet" href="style-original.css" /></code></pre>

<h3 id=rel-alternate>rel = alternate</h3>

<p>Continuing with <a href=examples/blog-original.html>our example page</a>:

<pre><code>&lt;link rel="alternate"
       type="application/atom+xml"
       title="Lorem ipsum feed"
       href="/feed/" /></code></pre>

<p>This link relation is also quite common. <code>&lt;link rel=alternate></code>, combined with either the <abbr>RSS</abbr> or Atom media type in the <code>type</code> attribute, is called &#8220;feed autodiscovery.&#8221; It allows syndicated feed readers (like <a href="http://www.google.com/reader/">Google Reader</a>) to discover that a site has a news feed of the latest articles. Most browsers also support feed autodiscovery by displaying a special icon next to the <abbr>URL</abbr>. (Unlike <code>rel=stylesheet</code>, the <code>type</code> attribute matters here. Don&#8217;t drop it!)

<p>The <code>rel=alternate</code> link relation has always been a strange hybrid of use cases, <a href=http://www.w3.org/TR/html401/types.html#type-links>even in HTML 4</a>. In <abbr>HTML5</abbr>, its definition has been clarified and extended to more accurately describe existing web content. As you just saw, using <code>rel=alternate</code> in conjunction with <code>type=application/atom+xml</code> indicates an Atom feed for the current page. But you can also use <code>rel=alternate</code> in conjunction with other <code>type</code> attributes to indicate the same content in another format, like <abbr>PDF</abbr>.

<p>HTML5 also puts to rest a long-standing confusion about how to link to translations of documents. HTML 4 says to use the <code>lang</code> attribute in conjunction with <code>rel=alternate</code> to specify the language of the linked document, but this is incorrect. The <a href=http://www.w3.org/MarkUp/html4-updates/errata>HTML 4 Errata</a> lists four outright errors in the HTML 4 spec (along with several editorial nits); one of these outright errors is how to specify the language of a document linked with <code>rel=alternate</code> (The correct way, described in the HTML 4 Errata and now in <abbr>HTML5</abbr>, is to use the <code>hreflang</code> attribute.) Unfortunately, these errata were never re-integrated into the HTML 4 spec, because no one in the W3C HTML Working Group was working on HTML anymore.

<h3 id=new-relations>Other Link Relations in HTML5</h3>

<p><a href=http://www.whatwg.org/specs/web-apps/current-work/multipage/history.html#link-type-archives>rel=archives</a> &#8220;indicates that the referenced document describes a collection of records, documents, or other materials of historical interest. A blog&#8217;s index page could link to an index of the blog&#8217;s past posts with rel="archives".&#8221;

<p><code>rel=author</code> is used to link to information about the author of the page. This can be a <code>mailto:</code> address, though it doesn&#8217;t have to be. It could simply link to a contact form or &#8220;about the author&#8221; page.

<p><a href=http://www.whatwg.org/specs/web-apps/current-work/multipage/history.html#link-type-external>rel=external</a> &#8220;indicates that the link is leading to a document that is not part of the site that the current document forms a part of.&#8221; I believe it was first popularized by <a href=http://www.wordpress.org/>WordPress</a>, which uses it on links left by commenters.

<p class=ss style="width:313px"><img src=i/openclipart.org_johnny_automatic_girl_feeding_birds.png width=313 height=384 alt="girl feeding birds">

<p>HTML 4 defined <a href=http://www.w3.org/TR/html401/types.html#type-links><code>rel=start</code>, <code>rel=prev</code>, and <code>rel=next</code></a> to define relations between pages that are part of a series (like chapters of a book, or even posts on a blog). The only one that was ever used correctly was <code>rel=next</code>. People used <code>rel=previous</code> instead of <code>rel=prev</code>; they used <code>rel=begin</code> and <code>rel=first</code> instead of <code>rel=start</code>; they used <code>rel=end</code> instead of <code>rel=last</code>. Oh, and -- all by themselves -- they made up <code>rel=up</code> to point to a &#8220;parent&#8221; page.

<p><abbr>HTML5</abbr> includes <code>rel=first</code>, which was the most variation of the different ways to say &#8220;first page in a series.&#8221; (<code>rel=start</code> is a non-conforming synonym, for backward compatibility.) Also <code>rel=prev</code> and <code>rel=next</code>, just like HTML 4 (but mentioning <code>rel=previous</code> for back-compat). It also adds <code>rel=last</code> (the last in a series, mirroring <code>rel=first</code>) and <code>rel=up</code>.

<p>The best way to think of <code>rel=up</code> is to look at your breadcrumb navigation (or at least imagine it). Your home page is probably the first page in your breadcrumbs, and the current page is at the tail end. <code>rel=up</code> points to the next-to-the-last page in the breadcrumbs.

<p><a href=http://www.whatwg.org/specs/web-apps/current-work/multipage/history.html#rel-icon>rel=icon</a> is the <a href=http://code.google.com/webstats/2005-12/linkrels.html>second most popular link relation</a>, after <code>rel=stylesheet</code>. It is usually found together with <code>shortcut</code>, like so:

<pre><code>&lt;link rel="shortcut icon" href="/favicon.ico"></code></pre>

<p>All major browsers support this usage to associate a small icon with the page. Usually it&#8217;s displayed in the browser&#8217;s location bar next to the URL, or in the browser tab, or both.

<p>Also new in <abbr>HTML5</abbr>: the <code>sizes</code> attribute can be used in conjunction with the <code>icon</code> relationship to <a href=http://www.whatwg.org/specs/web-apps/current-work/multipage/history.html#rel-icon>indicate the size of the referenced icon</a>.

<p><a href=http://www.whatwg.org/specs/web-apps/current-work/multipage/history.html#link-type-license>rel=license</a> was <a href=http://microformats.org/wiki/rel-license>invented by the microformats community</a>. It &#8220;indicates that the referenced document provides the copyright license terms under which the current document is provided.&#8221;

<p><a href=http://www.whatwg.org/specs/web-apps/current-work/multipage/history.html#link-type-nofollow>rel=nofollow</a> &#8220;indicates that the link is not endorsed by the original author or publisher of the page, or that the link to the referenced document was included primarily because of a commercial relationship between people affiliated with the two pages.&#8221; It was <a href=http://googleblog.blogspot.com/2005/01/preventing-comment-spam.html>invented by Google</a> and <a href=http://microformats.org/wiki/rel-nofollow>standardized within the microformats community</a>. The thinking was that if &#8220;nofollow&#8221; links did not pass on PageRank, spammers would give up trying to post spam comments on weblogs. That didn&#8217;t happen, but <code>rel=nofollow</code> persists. Many popular blogging systems default to adding <code>rel=nofollow</code> to links added by commenters.

<p><a href=http://www.whatwg.org/specs/web-apps/current-work/multipage/history.html#link-type-noreferrer>rel=noreferrer</a> &#8220;indicates that the no referrer information is to be leaked when following the link.&#8221; No browser currently supports this. [<a href=http://wearehugh.com/public/2009/04/rel-noreferrer.html>rel=noreferrer test case</a>]

<p><a href=http://www.whatwg.org/specs/web-apps/current-work/multipage/history.html#link-type-pingback>rel=pingback</a> specifies the address of a &#8220;pingback&#8221; server. As explained in <a href=http://hixie.ch/specs/pingback/pingback-1.0>the Pingback specification</a>, &#8220;The pingback system is a way for a blog to be automatically notified when other Web sites link to it. ... It enables reverse linking -- a way of going back up a chain of links rather than merely drilling down.&#8221; Blogging systems, notably WordPress, implement the pingback mechanism to notify authors that you have linked to them when creating a new blog post.

<p class=ss style="float:left;margin:0 1.75em 1.75em 0;width:271px"><img src=i/openclipart.org_johnny_automatic_dog_on_chair.png width=271 height=309 alt="dog on chair">

<p><a href=http://www.whatwg.org/specs/web-apps/current-work/multipage/history.html#link-type-prefetch>rel=prefetch</a> &#8220;indicates that preemptively fetching and caching the specified resource is likely to be beneficial, as it is highly likely that the user will require this resource.&#8221; Search engines sometimes add <code>&lt;link rel=prefetch href="<i>URL of top search result</i>"></code> to the search results page if they feel that the top result is wildly more popular than any other. For example: using Firefox, <a href=http://www.google.com/search?q=cnn>search Google for CNN</a>; view source; search for the keyword <code>prefetch</code>. Mozilla Firefox is the only current browser that supports <code>rel=prefetch</code>.

<p><a href=http://www.whatwg.org/specs/web-apps/current-work/multipage/history.html#link-type-search>rel=search</a> &#8220;indicates that the referenced document provides an interface specifically for searching the document and its related resources.&#8221; Specifically, if you want <code>rel=search</code> to do anything useful, it should point to an <a href=http://www.opensearch.org/>OpenSearch</a> document that describes how a browser could construct a URL to search the current site for a given keyword. OpenSearch (and <code>rel=search</code> links that point to OpenSearch description documents) is supported in Microsoft Internet Explorer since version 7 and Mozilla Firefox since version 2.

<p><a href=http://www.whatwg.org/specs/web-apps/current-work/multipage/history.html#link-type-sidebar>rel=sidebar</a> &#8220;indicates that the referenced document, if retrieved, is intended to be shown in a secondary browsing context (if possible), instead of in the current browsing context.&#8221; What does that mean? In Opera and Mozilla Firefox, it means &#8220;when I click this link, prompt the user to create a bookmark that, when selected from the Bookmarks menu, opens the linked document in a browser sidebar.&#8221; (Opera actually calls it the &#8220;panel&#8221; instead of the &#8220;sidebar.&#8221;) Internet Explorer, Safari, and Chrome ignore <code>rel=sidebar</code> and just treat it as a regular link. [<a href=http://wearehugh.com/public/2009/04/rel-sidebar.html>rel=sidebar test case</a>]

<p><a href=http://www.whatwg.org/specs/web-apps/current-work/multipage/history.html#link-type-tag>rel=tag</a> &#8220;indicates that the tag that the referenced document represents applies to the current document.&#8221; Marking up &#8220;tags&#8221; (category keywords) with the <code>rel</code> attribute was <a href=http://www.powazek.com/2005/07/000532.html>invented by Technorati</a> to help them categorize blog posts. Early blogs and tutorials thus referred to them as &#8220;Technorati tags.&#8221; (You read that right: a commercial company convinced the entire world to add metadata that made the company&#8217;s job easier. Nice work if you can get it!) The syntax was later <a href=http://microformats.org/wiki/rel-tag>standardized within the microformats community</a>, where it was simply called <code>rel=tag</code>. Most blogging systems that allow associating categories, keywords, or tags with individual posts will mark them up with <code>rel=tag</code> links. Browsers do not do anything special with them, but they&#8217;re really designed for search engines to use as a signal of what the page is about.

<h2 id=new-elements>New Semantic Elements in HTML5</h2>

<p><abbr>HTML5</abbr> is not just about making existing markup shorter (although it does a fair amount of that). It also defines a number of new semantic elements.

<dl class=col>
<dt><a href=http://www.whatwg.org/specs/web-apps/current-work/multipage/sections.html#the-section-element><code>&lt;section></code></a>
<dd>The <code>section</code> element represents a generic document or application section. A section, in this context, is a thematic grouping of content, typically with a heading. Examples of sections would be chapters, the various tabbed pages in a tabbed dialog box, or the numbered sections of a thesis. A Web site's home page could be split into sections for an introduction, news items, contact information.
<dt><a href=http://www.whatwg.org/specs/web-apps/current-work/multipage/sections.html#the-nav-element><code>&lt;nav></code></a>
<dd>The <code>nav</code> element represents a section of a page that links to other pages or to parts within the page: a section with navigation links. Not all groups of links on a page need to be in a <code>nav</code> element &mdash; only sections that consist of major navigation blocks are appropriate for the <code>nav</code> element. In particular, it is common for footers to have a short list of links to various pages of a site, such as the terms of service, the home page, and a copyright page. The <code>footer</code> element alone is sufficient for such cases, without a <code>nav</code> element.
<dt><a href=http://www.whatwg.org/specs/web-apps/current-work/multipage/sections.html#the-article-element><code>&lt;article></code></a>
<dd>The <code>article</code> element represents a component of a page that consists of a self-contained composition in a document, page, application, or site and that is intended to be independently distributable or reusable, e.g. in syndication. This could be a forum post, a magazine or newspaper article, a Web log entry, a user-submitted comment, an interactive widget or gadget, or any other independent item of content.
<dt><a href=http://www.whatwg.org/specs/web-apps/current-work/multipage/sections.html#the-aside-element><code>&lt;aside></code></a>
<dd>The <code>aside</code> element represents a section of a page that consists of content that is tangentially related to the content around the <code>aside</code> element, and which could be considered separate from that content. Such sections are often represented as sidebars in printed typography. The element can be used for typographical effects like pull quotes or sidebars, for advertising, for groups of <code>nav</code> elements, and for other content that is considered separate from the main content of the page.
<dt><a href=http://www.whatwg.org/specs/web-apps/current-work/multipage/sections.html#the-hgroup-element><code>&lt;hgroup></code></a>
<dd>The <code>hgroup</code> element represents the heading of a section. The element is used to group a set of <code>h1</code>&ndash;<code>h6</code> elements when the heading has multiple levels, such as subheadings, alternative titles, or taglines.
<dt><a href=http://www.whatwg.org/specs/web-apps/current-work/multipage/sections.html#the-header-element><code>&lt;header></code></a>
<dd>The <code>header</code> element represents a group of introductory or navigational aids. A <code>header</code> element is intended to usually contain the section&#8217;s heading (an <code>h1</code>&ndash;<code>h6</code> element or an <code>hgroup</code> element), but this is not required. The <code>header</code> element can also be used to wrap a section&#8217;s table of contents, a search form, or any relevant logos.
<dt><a href=http://www.whatwg.org/specs/web-apps/current-work/multipage/sections.html#the-footer-element><code>&lt;footer></code></a>
<dd>The <code>footer</code> element represents a footer for its nearest ancestor sectioning content or sectioning root element. A footer typically contains information about its section such as who wrote it, links to related documents, copyright data, and the like. Footers don&#8217;t necessarily have to appear at the end of a section, though they usually do. When the <code>footer</code> element contains entire sections, they represent appendices, indexes, long colophons, verbose license agreements, and other such content.
<dt><a href=http://www.whatwg.org/specs/web-apps/current-work/multipage/text-level-semantics.html#the-time-element><code>&lt;time></code></a>
<dd>The <code>time</code> element represents either a time on a 24 hour clock, or a precise date in the proleptic Gregorian calendar, optionally with a time and a time-zone offset.
<dt><a href=http://www.whatwg.org/specs/web-apps/current-work/multipage/text-level-semantics.html#the-mark-element><code>&lt;mark></code></a>
<dd>The <code>mark</code> element represents a run of text in one document marked or highlighted for reference purposes.
</dl>

<p>I know you&#8217;re anxious to start using these new elements, otherwise you wouldn&#8217;t be reading this chapter. But first we need to take a little detour.

<h2 id=unknown-elements>A long digression into how browsers handle unknown elements</h2>

<p>Every browser has a master list of HTML elements that it supports.  For example, Mozilla Firefox&#8217;s list is stored in <a href="http://mxr.mozilla.org/seamonkey/source/parser/htmlparser/src/nsElementTable.cpp">nsElementTable.cpp</a>.  Elements not in this list are treated as &#8220;unknown elements.&#8221;  There are two fundamental problems with unknown elements:</p>

<ol>
<li><b>How should the element be styled?</b>  By default, <code>&lt;p></code> has spacing on the top and bottom, <code>&lt;blockquote></code> is indented with a left margin, and <code>&lt;h1></code> is displayed in a larger font.</li>
<li><b>What should the element&#8217;s DOM look like?</b>  Mozilla&#8217;s <code>nsElementTable.cpp</code> includes information about what kinds of other elements each element can contain.  If you include markup like <code>&lt;p>&lt;p></code>, the second paragraph element implicitly closes the first one, so the elements end up as siblings, not parent-and-child.  But if you write <code>&lt;p>&lt;span></code>, the <code>span</code> does not close the paragraph, because Firefox knows that <code>&lt;p></code> is a block element that can contain the inline element <code>&lt;span></code>.  So the <code>&lt;span></code> ends up as a child of the <code>&lt;p></code> in the DOM.</li>
</ol>

<p>Different browsers answer these questions in different ways.  (Shocking, I know.)  Of the major browsers, Microsoft Internet Explorer&#8217;s answer to both questions is the most problematic.</p>

<p>The first question should be relatively simple to answer: don&#8217;t give any special styling to unknown elements.  Just let them inherit whatever CSS properties are in effect wherever they appear on the page, and let the page author specify all styling with CSS.  Unfortunately, Internet Explorer does not allow styling on unknown elements.  For example, if you had this markup:</p>

<pre><code>&lt;style type="text/css">
  article { border: 1px solid red }
&lt;/style>
...
&lt;article>
&lt;h1>Welcome to Initech&lt;/h1>
&lt;p>This is your &lt;span>first day&lt;/span>.&lt;/p>
&lt;/article></code></pre>

<p>Internet Explorer (up to and including IE 8) will not put a red border around the article.</p>

<p>The second problem is the DOM that browsers create when they encounter unknown elements.  Again, the most problematic browser is Internet Explorer.  If IE doesn&#8217;t explicitly recognize the element name, it will insert the element into the DOM <em>as an empty node with no children</em>.  All the elements that you would expect to be direct children of the unknown element will actually be inserted as siblings instead.

<p>Here is some ASCII art to showcase the difference. This is the DOM that HTML5 dictates:

<pre>article
|
+--h1 (child of article)
|  |
|  +--text node "Welcome to Initech"
|
+--p (child of article, sibling of h1)
   |
   +--text node "This is your "
   |
   +--span
   |  |
   |  +--text node "first day"
   |
   +--text node "."</pre>

<p>But this is the DOM that Internet Explorer actually creates:

<pre>article (no children)
h1 (sibling of article)
|
+--text node "Welcome to Initech"
p (sibling of h1)
|
+--text node "This is your "
|
+--span
|  |
|  +--text node "first day"
|
+--text node "."</pre>

<p>There is a wonderous workaround for this problem. If you <a href=http://xopus.com/devblog/2008/style-unknown-elements.html>create a dummy <code>&lt;article></code> element</a> with Javascript before you use it in your page, Internet Explorer will magically recognize the <code>&lt;article></code> element and let you style it with CSS. There is no need to ever insert the dummy element into the <abbr>DOM</abbr>. Simply creating the element once (per page) is enough to teach IE to style the element it doesn&#8217;t recognize.

<pre><code>&lt;html>
&lt;head>
&lt;style>
  article { display: block; border: 1px solid red }
&lt;/style>
<mark>&lt;script>document.createElement("article");&lt;/script></mark>
&lt;/head>
&lt;body>
&lt;article>
&lt;h1>Welcome to Initech&lt;/h1>
&lt;p>This is your &lt;span>first day&lt;/span>.&lt;/p>
&lt;/article>
&lt;/body>
&lt;/html></code></pre>

<p>This works in all versions of Internet Explorer, all the way back to IE 6!

<h2 id=header-element>Headers</h2>

<p class=ss style="width:205"><img src=i/openclipart.org_johnny_automatic_newsboy.png alt="newsboy hawking newspaper" width=205 height=335>

<p>FIXME

<h2 id=article-element>Articles</h2>

<p>FIXME

<h2 id=nav-element>Navigation</h2>

<p class=ss><img src=i/openclipart.org_johnny_automatic_a_pink.png alt="a man navigating a sailboat on the water" width=345 height=377>

<p>FIXME

<h2 id=footer-element>Footers</h2>

<p>FIXME

<h2 id=further-reading>Further Reading</h2>

<p>On character encoding:

<ul>
<li><a href="http://www.joelonsoftware.com/articles/Unicode.html">The Absolute Minimum Every Software Developer Absolutely, Positively Must Know About Unicode and Character Sets (No Excuses!)</a> by <cite>Joel Spolsky</cite>
<li><a href="http://www.tbray.org/ongoing/When/200x/2003/04/06/Unicode">On the Goodness of Unicode</a>, <a href="http://www.tbray.org/ongoing/When/200x/2003/04/13/Strings">On Character Strings</a>, and <a href="http://www.tbray.org/ongoing/When/200x/2003/04/26/UTF">Characters vs. Bytes</a> by <cite>Tim Bray</cite>
</ul>

<p>On enabling new <abbr>HTML5</abbr> in Internet Explorer:

<ul>
<li><a href=http://xopus.com/devblog/2008/style-unknown-elements.html>How to style unknown elements in IE</a> by <cite>Sjoerd Visscher</cite>
<li><a href=http://ejohn.org/blog/html5-shiv/><abbr>HTML5</abbr> shiv</a> by <cite>John Resig</cite>
<li><a href=http://remysharp.com/2009/01/07/html5-enabling-script/><abbr>HTML5</abbr> enabling script</a> by <cite>Remy Sharp</cite>
</ul>

<p>On standards modes and doctype sniffing:

<ul>
<li><a href=http://hsivonen.iki.fi/doctype/>Activating Browser Modes with Doctype</a> by <cite>Henri Sivonen</cite>. This is the only article you should read on the subject. There are many other articles, but they are either out of date, incomplete, or wrong.
</ul>

<p class=c>Copyright MMIX O&#8217;Reilly Media &bull; written by <a href=about.html>Mark Pilgrim</a>

<form action=http://www.google.com/cse><div><input type=hidden name=cx value=014021643941856155761:6jgee_nxreo><input type=hidden name=ie value=UTF-8><input type=search name=q size=25 placeholder="powered by Google&trade;">&nbsp;<input type=submit name=sa value=Search></div></form>
</div>
<script src=j/jquery.js></script>
<script src=j/dih5.js></script>
